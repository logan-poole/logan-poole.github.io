/* styles/auth-modals.css
 * Centered, modern auth modal with blur overlay
 */

:root {
  --auth-overlay: rgba(6, 16, 20, 0.55);
  --card-bg: #fff;
  --fg: #0b1220;
  --border: #e5e7eb;
  --brand: #00c2a8;
  --brand-ink: #065f54;
  --focus: rgba(0, 194, 168, 0.18);
}

@media (prefers-color-scheme: dark) {
  :root {
    --card-bg: #111418;
    --fg: #e8eef0;
    --border: #29323a;
    --auth-overlay: rgba(0, 0, 0, .6);
  }
}

/* Overlay centers the modal perfectly on all screens */
.auth-overlay {
  position: fixed;
  inset: 0;
  display: none;
  /* toggled via aria-hidden */
  align-items: center;
  justify-content: center;
  padding: clamp(12px, 3vw, 24px);
  background: var(--auth-overlay);
  backdrop-filter: blur(8px) saturate(110%);
  z-index: 9999;
}

.auth-overlay[aria-hidden="false"] {
  display: flex;
}

/* Modal shell */
.auth-modal {
  width: min(720px, 92vw);
  background: var(--card-bg);
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: 20px;
  box-shadow: 0 18px 70px rgba(0, 0, 0, .28);
  overflow: hidden;

  transform: translateY(6px) scale(.985);
  opacity: 0;
  transition: transform .18s ease, opacity .18s ease;
}

.auth-modal.is-open {
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* Header */
.auth-modal header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 16px 18px;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(0, 194, 168, .12), transparent);
  font-weight: 700;
}

.auth-modal header h3 {
  margin: 0;
  font-size: 18px;
}

.auth-close {
  appearance: none;
  border: 0;
  background: transparent;
  font-size: 22px;
  cursor: pointer;
  opacity: .8;
}

.auth-close:hover {
  opacity: 1;
}

/* Body */
.auth-modal section {
  padding: 18px;
}

.auth-modal form {
  display: grid;
  gap: 14px;
}

.auth-modal label {
  font-size: 14px;
  opacity: .85;
}

.auth-modal input[type="email"],
.auth-modal input[type="password"] {
  width: 100%;
  height: 46px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--fg);
  padding: 0 14px;
  font-size: 15px;
  outline: none;
}

.auth-modal input:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px var(--focus);
}

/* Password toggle button inline with input */
.input-wrap {
  position: relative;
  display: grid;
}

.pw-toggle {
  position: absolute;
  inset-inline-end: 8px;
  inset-block-start: 50%;
  transform: translateY(-50%);
  border: 0;
  background: transparent;
  cursor: pointer;
  padding: 6px;
  border-radius: 8px;
}

.pw-toggle:hover {
  background: rgba(0, 0, 0, .06);
}

/* Actions */
.auth-actions {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 10px;
  margin-top: 12px;
  align-items: stretch;
}

/* Ensure modal buttons look consistent even without global .btn styles */
.auth-actions .primary,
.auth-actions .btn,
.auth-actions .ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px 16px;
  font-weight: 700;
  font-size: 14px;
  background: var(--card-bg);
  color: var(--fg);
  text-decoration: none;
  cursor: pointer;
}

.auth-actions .primary {
  background: var(--brand);
  color: #fff;
  border-color: var(--brand);
}

.auth-actions .ghost {
  background: transparent;
  border-color: var(--border);
  opacity: .95;
}

.auth-actions .primary:disabled,
.auth-actions .btn:disabled,
.auth-actions .ghost:disabled {
  opacity: .7;
  cursor: not-allowed;
}

/* Error + helper text */
.auth-error {
  margin-top: 2px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255, 0, 0, .25);
  background: rgba(255, 0, 0, .08);
  color: #b30000;
  font-size: 14px;
}

.auth-hint {
  margin-top: 4px;
  font-size: 13px;
  opacity: .9;
}

/* Profile dropdown bits used in the header while logged in */
.avatar-btn {
  inline-size: 40px;
  block-size: 40px;
  border-radius: 999px;
  border: 2px solid rgba(255, 255, 255, .65);
  background: transparent;
  padding: 0;
  overflow: hidden;
  cursor: pointer;
}

.avatar-sm {
  inline-size: 100%;
  block-size: 100%;
  display: block;
  object-fit: cover;
}

.nav-name {
  margin-left: 10px;
  font-weight: 600;
}

.dropdown {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  min-width: 180px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: 0 12px 36px rgba(0, 0, 0, .18);
  padding: 6px;
  list-style: none;
  z-index: 10000;
}

.dropdown.hidden {
  display: none;
}

.dropdown li {
  margin: 0;
}

.dropdown a,
.dropdown .linklike {
  display: block;
  width: 100%;
  text-align: left;
  padding: 10px 12px;
  border-radius: 10px;
  text-decoration: none;
  color: var(--fg);
  background: transparent;
  border: 1px solid transparent;
  cursor: pointer;
}

.dropdown a:hover,
.dropdown .linklike:hover {
  background: rgba(0, 0, 0, .06);
}

.role-badge {
  display: inline-block;
  margin-left: 6px;
  padding: 2px 6px;
  font-size: 12px;
  font-weight: 700;
  line-height: 1;
  border-radius: 999px;
  color: #065f54;
  background: rgba(0, 194, 168, .18);
  border: 1px solid rgba(0, 0, 0, .06);
  vertical-align: middle;
}